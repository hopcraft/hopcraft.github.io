{"version":3,"sources":["components/Meteors/Meteor.ts","utils/index.ts","components/Meteors/index.tsx","components/Brand/index.tsx","components/Bubbles/Bubble.tsx","components/Bubbles/index.tsx","components/Footer/index.tsx","App.tsx","index.tsx"],"names":["Meteor","factor","Object","classCallCheck","this","element","x","y","scale","speed","document","createElement","classList","add","reset","Math","random","move","window","innerWidth","translate3d","concat","transform","opacity","style","webkitTransform","requestAnimationFrame","webkitRequestAnimationFrame","callback","setTimeout","meteors","requestAFrameId","Meteors","props","_this","possibleConstructorReturn","getPrototypeOf","call","update","bind","assertThisInitialized","init","cancelAnimationFrame","container","querySelector","smallWidth","screen","availWidth","i","meteor","push","appendChild","length","react","className","React","Brand","DFT_UNIT","DFT_STYLE","width","height","left","top","DFT_STEP","speedX","speedY","BubbleCls","content","$elem","step","_objectSpread","textContent","createClass","key","value","round","BUBBLES_CONTENT","bubbles","oRight","oBottom","Bubbles","state","time","last","Date","getTime","delay","setInterval","cur","_this2","_loop","timerId","bubble","appendBubble","setState","clearTimeout","addEvent","refs","bubblesContainerRef","addEventListener","e","console","log","n","updateWall","paint","setX","setY","checkWalls","j","checkCollision","clientWidth","clientHeight","bubbleA","bubbleB","dx","dy","sqrt","angle","atan2","sin","cos","posA","posB","rotate","velA","velB","vxTotal","absV","abs","overlap","posAF","posBF","velAF","velBF","reverse","ref","Footer","App","Meteors_Meteors","Brand_Brand","Bubbles_Bubbles","Footer_Footer","ReactDOM","App_App","getElementById"],"mappings":"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","file":"static/js/main.17d02c04.chunk.js","sourcesContent":["\nexport default class Meteor {\n  element: HTMLElement\n  x: number\n  y: number\n  scale: number\n  speed: number\n  factor: number\n\n  constructor(factor: number) {\n    this.factor = factor\n    this.element = document.createElement('div'); \n    this.element.classList.add('meteor'); \n    this.x = 0; \n    this.y = 0; \n    this.scale = 1; \n    this.speed = 0; \n    this.reset(); \n    this.y = Math.random() * -75; \n    this.move(); \n  }\n\n  reset() {\n    this.x = Math.random() * (window.innerWidth || 1000)\n    this.y = 0\n    this.scale = Math.random() * 0.6 + 0.4\n    this.speed = this.scale * this.scale * 2.5\n  }\n\n  move() {\n    this.y += this.speed\n\n    let translate3d = `translate3d(${this.x + 'px,' + (this.y - 198)}px, 0)` \n    let scale = `scale(${this.scale * this.factor})`\n    let transform = `${translate3d} ${scale}`\n    let opacity = 1.4 - this.y / 340\n\n    this.element.style.webkitTransform = transform\n    this.element.style.transform = transform\n    this.element.style.opacity = `${opacity}`\n\n    if (opacity <= 0) { \n      this.reset()\n    } \n  }\n}","type IRequestAF = (callback: FrameRequestCallback) => number\n\nlet requestAnimationFrame: IRequestAF = window.requestAnimationFrame \n  || window.webkitRequestAnimationFrame\n  || function (callback) { setTimeout(callback, 1000 / 60) }\n\nexport {\n  requestAnimationFrame\n}","import './index.scss'\nimport * as React from 'react'\nimport Meteor from './Meteor'\nimport { requestAnimationFrame } from '../../utils'\n\nexport interface IProps {}\nexport interface IState {}\n\nconst meteors: any[] = []\nlet requestAFrameId: number = -1\n\nexport default class Meteors extends React.Component<IProps, IState> {\n  constructor(props: any) {\n    super(props)\n    this.update = this.update.bind(this)\n  }\n\n  componentDidMount() {\n    this.init()\n  }\n\n  componentWillUnmount() {\n    cancelAnimationFrame(requestAFrameId)\n  }\n\n  init() {\n    let container: HTMLElement = document.querySelector('.meteors') as HTMLElement\n    let smallWidth: boolean = window.screen.availWidth <= 812\n    let total: number = smallWidth ? 15 : 25\n    let factor: number = smallWidth ? 0.8 : 1\n\n    for (let i = total; i--;) { \n      let meteor = new Meteor(factor) \n      meteors.push(meteor)\n      container.appendChild(meteor.element)\n    }\n\n    this.update()\n  }\n\n  update() {\n    for (let i = meteors.length; i--;) { \n      meteors[i].move()\n    }\n    requestAFrameId = requestAnimationFrame(this.update)\n  }\n\n  render() {\n    return (\n      <div className=\"meteors\"></div>\n    )\n  }\n}","import './index.scss'\nimport * as React from 'react'\n\nexport interface IProps {}\nexport interface IState {}\n\nexport default class Brand extends React.Component<IProps, IState> {\n  constructor(props: any) {\n    super(props)\n  }\n\n  render() {\n    return (\n      <article>\n        <h1 className=\"brand effect\">HOPCRAFT/IO</h1>\n      </article>\n    )\n  }\n}","import './Bubble.scss'\nimport * as React from 'react'\n\ninterface IStyle {\n  width?: number\n  height?: number\n  left?: number\n  top?: number\n  opacity?: number\n}\n\nexport interface IBubbleClsProps {\n  content: string\n  x: number\n  y: number\n  speedX: number\n  speedY: number\n  style?: IStyle\n  step?: number\n}\n\nexport const DFT_UNIT = 'px'\nexport const DFT_WIDTH: number   = 70\nexport const DFT_HEIGHT: number  = 70\nexport const DFT_LEFT: number  = 0\nexport const DFT_TOP: number   = 0\nexport const DFT_OPACITY: number = 1\n\nexport const DFT_STYLE = {\n  width: DFT_WIDTH,\n  height: DFT_HEIGHT,\n  left: DFT_LEFT,\n  top: DFT_TOP,\n  opacity: DFT_OPACITY\n}\n\nexport const DFT_STEP = 0\n\nexport const APLHA = 0.8\nexport const POW = [1, APLHA, APLHA * APLHA]\n\nexport function speedX(): number {\n  return 1 + Math.random() * 0.2\n}\n\nexport function speedY(): number {\n  return 1 + Math.random() * 0.2\n}\n\nexport class BubbleCls {\n  public content: string = ''\n  public x: number = 0\n  public y: number = 0\n  public speedX: number = speedX()\n  public speedY: number = speedY()\n  public $elem: HTMLElement = document.createElement('span')\n  public style: IStyle = DFT_STYLE\n  private step: number = DFT_STEP\n\n  constructor(props: IBubbleClsProps) {\n    this.style = {\n      ...DFT_STYLE,\n      ...props.style,\n      opacity: 3 * Math.random()\n    }\n    this.step = 0.02 * Math.random()\n    this.content = props.content\n    this.$elem.classList.add('bubble')\n    this.$elem.classList.add('ball')\n    this.$elem.textContent = this.content\n    this.$elem.style.left = this.style.left + DFT_UNIT\n    this.$elem.style.top = this.style.top + DFT_UNIT\n    this.$elem.style.width = this.style.width + DFT_UNIT\n    this.$elem.style.height = this.style.height + DFT_UNIT\n    // this.$elem.style.transform = `translate(\n    //   ${this.style.left + DFT_UNIT}, ${this.style.top + DFT_UNIT}\n    // )`\n  }\n\n  setX(x: number) {\n    this.x = x\n    let left = Math.round(x)\n    this.style = {\n      ...this.style,\n      left\n    }\n    this.$elem.style.left = left + DFT_UNIT\n    // this.$elem.style.transform = `translate(\n    //   ${left + DFT_UNIT}, ${this.style.top + DFT_UNIT}\n    // )`\n  }\n\n  setY(y: number) {\n    this.y = y\n    let top = Math.round(y)\n    this.style = {\n      ...this.style,\n      top\n    }\n    this.$elem.style.top = top + DFT_UNIT\n    // this.$elem.style.transform = `translate(\n    //   ${this.style.left + DFT_UNIT}, ${top + DFT_UNIT}\n    // )`\n  }\n\n  paint() {}\n}","import \"./index.scss\"\nimport * as React from \"react\"\nimport { \n  IBubbleClsProps, BubbleCls, DFT_WIDTH, DFT_HEIGHT,\n  speedX, speedY\n} from './Bubble'\nimport { requestAnimationFrame } from '../../utils'\nimport { throwStatement } from \"@babel/types\";\n\nexport interface IProps {}\nexport interface IState {\n  bubbles: BubbleCls[]\n}\n\nconst K = 0.999\nconst POW_RATE = 0.0001 \t\t//补偿概率\nconst POW_RANGE = 0.8 \t\t  //补偿范围\nconst BUBBLES_CONTENT = [\n  '物理',\n  '数学',\n  '计算',\n  '哲学',\n  '文学',\n  '商业'\n]\nconst bubbles: BubbleCls[] = []\n\nlet requestAFrameId: number = -1\nlet oRight: number = 0\nlet oBottom: number = 0\n\nexport default class Bubbles extends React.Component<IProps, IState> {\n\n  state: IState = {\n    bubbles: []\n  }\n\n  constructor(props: any) {\n    super(props)\n    this.update = this.update.bind(this)\n  }\n\n  componentDidMount(){\n    this.init()\n  }\n\n  requestFrame(call: Function, time: number) {\n    let last = (new Date).getTime()\n    let delay = 0\n\n    return setInterval(function () {\n      var cur = (new Date).getTime()\n      delay += (cur - last)\n      last = cur\n\n      if (delay >= time) {\n        call()\n        delay %= time\n      }\n    }, 25)\n  }\n\n\n  init() {\n    for (let i = 0; i < BUBBLES_CONTENT.length; i++) {\n      let timerId = setTimeout(() => {\n        let x = i * 50\n        let y = i * 50\n        let bubble = new BubbleCls({\n          content: BUBBLES_CONTENT[i],\n          style: {\n            left: x,\n            top: y\n          },\n          x: x,\n          y: y,\n          speedX: speedX(),\n          speedY: speedY()\n        })\n        bubbles.push(bubble)\n        this.appendBubble(bubble)\n        this.setState({\n          bubbles: bubbles\n        })\n        clearTimeout(timerId)\n      }, i * 1000)\n    }\n    this.addEvent()\n    // this.requestFrame(this.update, 25)\n    this.update()\n  }\n\n  addEvent() {\n    let $container = this.refs.bubblesContainerRef as HTMLElement\n    $container.addEventListener('click', (e) => {\n      console.log('事件发生 e =', e)\n    }, false)\n  }\n\n  update() {\n    const { bubbles } = this.state\n    let n = bubbles.length\n    let bubble: BubbleCls\n\n    this.updateWall()\n    \n    for (let i = 0; i < n; i++) {\n      bubble = bubbles[i]\n\n      bubble.paint()\n\n      bubble.speedX *= K\n      bubble.speedY *= K\n\n      if (Math.random() < POW_RATE) {\n        bubble.speedX = speedX() * (1 + Math.random() * POW_RANGE)\n        bubble.speedY = speedY() * (1 + Math.random() * POW_RANGE)\n      }\n\n      bubble.setX(bubble.x + bubble.speedX)\n      bubble.setY(bubble.y + bubble.speedY)\n    \n      this.checkWalls(bubble)\n    }\n\n    for (let i = 0; i < n - 1; i++) {\n      for (let j = i + 1; j < n; j++) {\n        this.checkCollision(bubbles[i],  bubbles[j])\n      }\n    }\n\n    requestAFrameId = requestAnimationFrame(this.update)\n  }\n\n  appendBubble(bubble: BubbleCls) {\n    let $container = this.refs.bubblesContainerRef as HTMLElement\n    $container.appendChild(bubble.$elem)\n  }\n\n  updateWall() {\n    let $elem = this.refs.bubblesContainerRef as HTMLElement\n    oRight = $elem.clientWidth - DFT_WIDTH\n    oBottom = $elem.clientHeight - DFT_WIDTH\n  }\n\n  checkWalls(bubble: BubbleCls) {\n    if (bubble.x < 0) {\n      bubble.setX(0)\n      bubble.speedX *= -1\n    } else if (bubble.x > oRight) {\n      bubble.setX(oRight)\n      bubble.speedX *= -1\n    }\n\n    if (bubble.y < 0) {\n      bubble.setY(0)\n      bubble.speedY *= -1\n    } else if (bubble.y > oBottom) {\n      bubble.setY(oBottom)\n      bubble.speedY *= -1\n    }\n  }\n\n  checkCollision(bubbleA :BubbleCls, bubbleB :BubbleCls) {\n    let dx = bubbleB.x - bubbleA.x\n    let dy = bubbleB.y - bubbleA.y\n    let dist = Math.sqrt(dx * dx + dy * dy)\n\n    if (dist < DFT_WIDTH) {\n      let angle = Math.atan2(dy, dx)\n      let sin = Math.sin(angle)\n      let cos = Math.cos(angle)\n\n      let posA = { x: 0, y: 0 }\n      let posB = this.rotate(dx, dy, sin, cos, true)\n\n      let velA = this.rotate(bubbleA.speedX, bubbleA.speedY, sin, cos, true)\n      let velB = this.rotate(bubbleB.speedX, bubbleB.speedY, sin, cos, true)\n\n      let vxTotal = velA.x - velB.x\n      velA.x = velB.x\n      velB.x = vxTotal + velA.x\n\n      let absV = Math.abs(velA.x) + Math.abs(velB.x)\n      let overlap = DFT_WIDTH - Math.abs(posA.x - posB.x)\n\n      if (absV * overlap != 0) {\n        posA.x += velA.x / absV * overlap\n        posB.x += velB.x / absV * overlap\n\n        let posAF = this.rotate(posA.x, posA.y, sin, cos, false)\n        let posBF = this.rotate(posB.x, posB.y, sin, cos, false)\n\n        bubbleB.setX(bubbleA.x + posBF.x)\n        bubbleB.setY(bubbleA.y + posBF.y)\n        bubbleA.setX(bubbleA.x + posAF.x)\n        bubbleA.setY(bubbleA.y + posAF.y)\n\n        let velAF = this.rotate(velA.x, velA.y, sin, cos, false)\n        let velBF = this.rotate(velB.x, velB.y, sin, cos, false)\n\n        bubbleA.speedX = velAF.x\n        bubbleA.speedY = velAF.y\n        bubbleB.speedX = velBF.x\n        bubbleB.speedY = velBF.y\n      \n      }\n    }\n  }\n\n  rotate(x: number, y: number, sin: number, cos: number, reverse: boolean) {\n    if (reverse) {\n      return { x: x * cos + y * sin, y: y * cos - x * sin }\n    } else {\n      return { x: x * cos - y * sin, y: y * cos + x * sin }\n    }\n  }\n\n  componentWillMount() {\n    cancelAnimationFrame(requestAFrameId)\n    let $container = this.refs.bubblesContainerRef as HTMLElement\n    // $container.removeEventListener('click', () => {})\n  }\n\n  render() {\n    return (\n      <div className=\"bubbles\" \n        ref=\"bubblesContainerRef\">\n      </div>\n    )\n  }\n}\n","import './index.scss'\nimport * as React from 'react'\n\nexport interface IProps {}\nexport interface IState {}\n\nexport default class Footer extends React.Component<IProps, IState> {\n  constructor(props: any) {\n    super(props)\n  }\n\n  render() {\n    return (\n      <footer><p className=\"slogan\">精骛八极，心游万仞</p></footer>\n    )\n  }\n}","import './App.scss'\nimport * as React from 'react'\n// import { BrowserRouter as Router, Route, Link } from 'react-router-dom'\nimport Meteors from './components/Meteors'\nimport Brand from './components/Brand'\nimport Bubbles from './components/Bubbles'\nimport Footer from './components/Footer'\n\nexport interface IProps {}\nexport interface IState {}\n\nexport default class App extends React.Component<IProps, IState> {\n  constructor(props: any) {\n    super(props)\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <Meteors />\n        <div className=\"main\">\n          <Brand />\n          <Bubbles />\n        </div>\n        <Footer />\n      </div>\n    )\n  }\n}","import './index.scss'\nimport * as React from 'react'\nimport * as ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, document.getElementById('root')\n)"],"sourceRoot":""}